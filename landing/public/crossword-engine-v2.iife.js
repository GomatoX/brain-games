var CrosswordEngine=(function(){"use strict";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add("5");let pt=!1,ss=!1;function is(){pt=!0}is();const ls=1,os=2,Yr=4,as=8,fs=16,us=2,cs=8,ds=1,hs=2,Hr="[",Yt="[!",dr="]",_t={},j=Symbol(),vs="http://www.w3.org/1999/xhtml",hr=!1;var qr=Array.isArray,ps=Array.prototype.indexOf,gt=Array.prototype.includes,Ht=Array.from,qt=Object.keys,Gt=Object.defineProperty,et=Object.getOwnPropertyDescriptor,Gr=Object.getOwnPropertyDescriptors,_s=Object.prototype,gs=Array.prototype,vr=Object.getPrototypeOf,Vr=Object.isExtensible;function ms(e){return e()}function pr(e){for(var t=0;t<e.length;t++)e[t]()}function Wr(){var e,t,r=new Promise((n,s)=>{e=n,t=s});return{promise:r,resolve:e,reject:t}}const Y=2,Vt=4,zt=8,Kr=1<<24,Te=16,ve=32,qe=64,_r=128,le=512,F=1024,W=2048,be=4096,te=8192,Ce=16384,Wt=32768,mt=65536,Xr=1<<17,Jr=1<<18,tt=1<<19,Zr=1<<20,Re=1<<25,rt=32768,gr=1<<21,mr=1<<22,Ge=1<<23,wt=Symbol("$state"),Qr=Symbol("legacy props"),ws=Symbol(""),yt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},wr=3,bt=8;function ys(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $s(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Es(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ks(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ss(){throw new Error("https://svelte.dev/e/hydration_failed")}function As(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Cs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Rs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ns(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Kt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function zs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let S=!1;function Ne(e){S=e}let T;function J(e){if(e===null)throw Kt(),_t;return T=e}function Xt(){return J($e(T))}function G(e){if(S){if($e(T)!==null)throw Kt(),_t;T=e}}function Ms(e=1){if(S){for(var t=e,r=T;t--;)r=$e(r);T=r}}function Jt(e=!0){for(var t=0,r=T;;){if(r.nodeType===bt){var n=r.data;if(n===dr){if(t===0)return r;t-=1}else(n===Hr||n===Yt)&&(t+=1)}var s=$e(r);e&&r.remove(),r=s}}function en(e){if(!e||e.nodeType!==bt)throw Kt(),_t;return e.data}function tn(e){return e===this.v}function Os(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function rn(e){return!Os(e,this.v)}let O=null;function $t(e){O=e}function yr(e,t=!1,r){O={p:O,i:!1,c:null,e:null,s:e,x:null,l:pt&&!t?{s:null,u:null,$:[]}:null}}function br(e){var t=O,r=t.e;if(r!==null){t.e=null;for(var n of r)Sn(n)}return e!==void 0&&(t.x=e),t.i=!0,O=t.p,e??{}}function Mt(){return!pt||O!==null&&O.l===null}let nt=[];function nn(){var e=nt;nt=[],pr(e)}function ze(e){if(nt.length===0&&!Ot){var t=nt;queueMicrotask(()=>{t===nt&&nn()})}nt.push(e)}function Ds(){for(;nt.length>0;)nn()}function sn(e){var t=A;if(t===null)return E.f|=Ge,e;if((t.f&Wt)===0){if((t.f&_r)===0)throw e;t.b.error(e)}else xt(e,t)}function xt(e,t){for(;t!==null;){if((t.f&_r)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e}const Ps=-7169;function L(e,t){e.f=e.f&Ps|t}function $r(e){(e.f&le)!==0||e.deps===null?L(e,F):L(e,be)}function ln(e){if(e!==null)for(const t of e)(t.f&Y)===0||(t.f&rt)===0||(t.f^=rt,ln(t.deps))}function on(e,t,r){(e.f&W)!==0?t.add(e):(e.f&be)!==0&&r.add(e),ln(e.deps),L(e,F)}const Zt=new Set;let M=null,pe=null,re=[],Qt=null,xr=!1,Ot=!1;class Me{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#i=0;#l=null;#s=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#i>0}process(t){re=[],this.apply();var r=[],n=[];for(const s of t)this.#a(s,r,n);if(this.is_deferred()){this.#f(n),this.#f(r);for(const s of this.skipped_effects)dn(s)}else{for(const s of this.#e)s();this.#e.clear(),this.#r===0&&this.#u(),M=null,fn(n),fn(r),this.#l?.resolve()}pe=null}#a(t,r,n){t.f^=F;for(var s=t.first,i=null;s!==null;){var l=s.f,o=(l&(ve|qe))!==0,a=o&&(l&F)!==0,f=a||(l&te)!==0||this.skipped_effects.has(s);if(!f&&s.fn!==null){o?s.f^=F:i!==null&&(l&(Vt|zt|Kr))!==0?i.b.defer_effect(s):(l&Vt)!==0?r.push(s):St(s)&&((l&Te)!==0&&this.#n.add(s),At(s));var d=s.first;if(d!==null){s=d;continue}}var h=s.parent;for(s=s.next;s===null&&h!==null;)h===i&&(i=null),s=h.next,h=h.parent}}#f(t){for(var r=0;r<t.length;r+=1)on(t[r],this.#s,this.#n)}capture(t,r){r!==j&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&Ge)===0&&(this.current.set(t,t.v),pe?.set(t,t.v))}activate(){M=this,this.apply()}deactivate(){M===this&&(M=null,pe=null)}flush(){if(this.activate(),re.length>0){if(an(),M!==null&&M!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(Zt.size>1){this.previous.clear();var t=pe,r=!0;for(const s of Zt){if(s===this){r=!1;continue}const i=[];for(const[o,a]of this.current){if(s.current.has(o))if(r&&a!==s.current.get(o))s.current.set(o,a);else continue;i.push(o)}if(i.length===0)continue;const l=[...s.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var n=re;re=[];const o=new Set,a=new Map;for(const f of i)un(f,l,o,a);if(re.length>0){M=s,s.apply();for(const f of re)s.#a(f,[],[]);s.deactivate()}re=n}}M=null,pe=t}this.committed=!0,Zt.delete(this)}increment(t){this.#r+=1,t&&(this.#i+=1)}decrement(t){this.#r-=1,t&&(this.#i-=1),!this.#o&&(this.#o=!0,ze(()=>{this.#o=!1,this.is_deferred()?re.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#s)this.#n.delete(t),L(t,W),Pe(t);for(const t of this.#n)L(t,be),Pe(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=Wr()).promise}static ensure(){if(M===null){const t=M=new Me;Zt.add(M),Ot||ze(()=>{M===t&&t.flush()})}return M}apply(){}}function Oe(e){var t=Ot;Ot=!0;try{for(var r;;){if(Ds(),re.length===0&&(M?.flush(),re.length===0))return Qt=null,r;an()}}finally{Ot=t}}function an(){xr=!0;var e=null;try{for(var t=0;re.length>0;){var r=Me.ensure();if(t++>1e3){var n,s;Ls()}r.process(re),Ve.clear()}}finally{xr=!1,Qt=null}}function Ls(){try{ks()}catch(e){xt(e,Qt)}}let De=null;function fn(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(Ce|te))===0&&St(n)&&(De=new Set,At(n),n.deps===null&&n.first===null&&n.nodes===null&&(n.teardown===null&&n.ac===null?Cn(n):n.fn=null),De?.size>0)){Ve.clear();for(const s of De){if((s.f&(Ce|te))!==0)continue;const i=[s];let l=s.parent;for(;l!==null;)De.has(l)&&(De.delete(l),i.push(l)),l=l.parent;for(let o=i.length-1;o>=0;o--){const a=i[o];(a.f&(Ce|te))===0&&At(a)}}De.clear()}}De=null}}function un(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&Y)!==0?un(s,t,r,n):(i&(mr|Te))!==0&&(i&W)===0&&cn(s,t,n)&&(L(s,W),Pe(s))}}function cn(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const s of e.deps){if(gt.call(t,s))return!0;if((s.f&Y)!==0&&cn(s,t,r))return r.set(s,!0),!0}return r.set(e,!1),!1}function Pe(e){for(var t=Qt=e;t.parent!==null;){t=t.parent;var r=t.f;if(xr&&t===A&&(r&Te)!==0&&(r&Jr)===0)return;if((r&(qe|ve))!==0){if((r&F)===0)return;t.f^=F}}re.push(t)}function dn(e){if(!((e.f&ve)!==0&&(e.f&F)!==0)){L(e,F);for(var t=e.first;t!==null;)dn(t),t=t.next}}function Fs(e){let t=0,r=st(0),n;return()=>{Nr()&&(c(r),tr(()=>(t===0&&(n=H(()=>e(()=>Pt(r)))),t+=1,()=>{ze(()=>{t-=1,t===0&&(n?.(),n=void 0,Pt(r))})})))}}var Is=mt|tt|_r;function Us(e,t,r){new Bs(e,t,r)}class Bs{parent;is_pending=!1;#e;#t=S?T:null;#r;#i;#l;#s=null;#n=null;#o=null;#a=null;#f=null;#u=0;#c=0;#v=!1;#h=!1;#p=new Set;#_=new Set;#d=null;#b=Fs(()=>(this.#d=st(this.#u),()=>{this.#d=null}));constructor(t,r,n){this.#e=t,this.#r=r,this.#i=n,this.parent=A.b,this.is_pending=!!this.#r.pending,this.#l=Or(()=>{if(A.b=this,S){const i=this.#t;Xt(),i.nodeType===bt&&i.data===Yt?this.#x():(this.#$(),this.#c===0&&(this.is_pending=!1))}else{var s=this.#w();try{this.#s=ae(()=>n(s))}catch(i){this.error(i)}this.#c>0?this.#m():this.is_pending=!1}return()=>{this.#f?.remove()}},Is),S&&(this.#e=T)}#$(){try{this.#s=ae(()=>this.#i(this.#e))}catch(t){this.error(t)}}#x(){const t=this.#r.pending;t&&(this.#n=ae(()=>t(this.#e)),ze(()=>{var r=this.#w();this.#s=this.#g(()=>(Me.ensure(),ae(()=>this.#i(r)))),this.#c>0?this.#m():(lt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#w(){var t=this.#e;return this.is_pending&&(this.#f=oe(),this.#e.before(this.#f),t=this.#f),t}defer_effect(t){on(t,this.#p,this.#_)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#r.pending}#g(t){var r=A,n=E,s=O;xe(this.#l),fe(this.#l),$t(this.#l.ctx);try{return t()}catch(i){return sn(i),null}finally{xe(r),fe(n),$t(s)}}#m(){const t=this.#r.pending;this.#s!==null&&(this.#a=document.createDocumentFragment(),this.#a.append(this.#f),zn(this.#s,this.#a)),this.#n===null&&(this.#n=ae(()=>t(this.#e)))}#y(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(t);return}if(this.#c+=t,this.#c===0){this.is_pending=!1;for(const r of this.#p)L(r,W),Pe(r);for(const r of this.#_)L(r,be),Pe(r);this.#p.clear(),this.#_.clear(),this.#n&&lt(this.#n,()=>{this.#n=null}),this.#a&&(this.#e.before(this.#a),this.#a=null)}}update_pending_count(t){this.#y(t),this.#u+=t,!(!this.#d||this.#v)&&(this.#v=!0,ze(()=>{this.#v=!1,this.#d&&Et(this.#d,this.#u)}))}get_effect_pending(){return this.#b(),c(this.#d)}error(t){var r=this.#r.onerror;let n=this.#r.failed;if(this.#h||!r&&!n)throw t;this.#s&&(K(this.#s),this.#s=null),this.#n&&(K(this.#n),this.#n=null),this.#o&&(K(this.#o),this.#o=null),S&&(J(this.#t),Ms(),J(Jt()));var s=!1,i=!1;const l=()=>{if(s){zs();return}s=!0,i&&Ns(),Me.ensure(),this.#u=0,this.#o!==null&&lt(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#s=this.#g(()=>(this.#h=!1,ae(()=>this.#i(this.#e)))),this.#c>0?this.#m():this.is_pending=!1};ze(()=>{try{i=!0,r?.(t,l),i=!1}catch(o){xt(o,this.#l&&this.#l.parent)}n&&(this.#o=this.#g(()=>{Me.ensure(),this.#h=!0;try{return ae(()=>{n(this.#e,()=>t,()=>l)})}catch(o){return xt(o,this.#l.parent),null}finally{this.#h=!1}}))})}}function js(e,t,r,n){const s=Mt()?kr:Sr;var i=e.filter(u=>!u.settled);if(r.length===0&&i.length===0){n(t.map(s));return}var l=M,o=A,a=Ys(),f=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(u=>u.promise)):null;function d(u){a();try{n(u)}catch(v){(o.f&Ce)===0&&xt(v,o)}l?.deactivate(),Er()}if(r.length===0){f.then(()=>d(t.map(s)));return}function h(){a(),Promise.all(r.map(u=>Hs(u))).then(u=>d([...t.map(s),...u])).catch(u=>xt(u,o))}f?f.then(h):h()}function Ys(){var e=A,t=E,r=O,n=M;return function(i=!0){xe(e),fe(t),$t(r),i&&n?.activate()}}function Er(){xe(null),fe(null),$t(null)}function kr(e){var t=Y|W,r=E!==null&&(E.f&Y)!==0?E:null;return A!==null&&(A.f|=tt),{ctx:O,deps:null,effects:null,equals:tn,f:t,fn:e,reactions:null,rv:0,v:j,wv:0,parent:r??A,ac:null}}function Hs(e,t,r){let n=A;n===null&&bs();var s=n.b,i=void 0,l=st(j),o=!E,a=new Map;return ei(()=>{var f=Wr();i=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{d===M&&d.committed&&d.deactivate(),Er()})}catch(v){f.reject(v),Er()}var d=M;if(o){var h=s.is_rendered();s.update_pending_count(1),d.increment(h),a.get(d)?.reject(yt),a.delete(d),a.set(d,f)}const u=(v,m=void 0)=>{if(d.activate(),m)m!==yt&&(l.f|=Ge,Et(l,m));else{(l.f&Ge)!==0&&(l.f^=Ge),Et(l,v);for(const[b,p]of a){if(a.delete(b),b===d)break;p.reject(yt)}}o&&(s.update_pending_count(-1),d.decrement(h))};f.promise.then(u,v=>u(null,v||"unknown"))}),kn(()=>{for(const f of a.values())f.reject(yt)}),new Promise(f=>{function d(h){function u(){h===i?f(l):d(i)}h.then(u,u)}d(i)})}function Sr(e){const t=kr(e);return t.equals=rn,t}function hn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)K(t[r])}}function qs(e){for(var t=e.parent;t!==null;){if((t.f&Y)===0)return(t.f&Ce)===0?t:null;t=t.parent}return null}function Ar(e){var t,r=A;xe(qs(e));try{e.f&=~rt,hn(e),t=Fn(e)}finally{xe(r)}return t}function vn(e){var t=Ar(e);if(!e.equals(t)&&(e.wv=Pn(),(!M?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){L(e,F);return}Xe||(pe!==null?(Nr()||M?.is_fork)&&pe.set(e,t):$r(e))}let Tr=new Set;const Ve=new Map;let pn=!1;function st(e,t){var r={f:0,v:e,reactions:null,equals:tn,rv:0,wv:0};return r}function We(e,t){const r=st(e);return ni(r),r}function ne(e,t=!1,r=!0){const n=st(e);return t||(n.equals=rn),pt&&r&&O!==null&&O.l!==null&&(O.l.s??=[]).push(n),n}function Dt(e,t){return x(e,H(()=>c(e))),t}function x(e,t,r=!1){E!==null&&(!ge||(E.f&Xr)!==0)&&Mt()&&(E.f&(Y|Te|mr|Xr))!==0&&(ue===null||!gt.call(ue,e))&&Rs();let n=r?kt(t):t;return Et(e,n)}function Et(e,t){if(!e.equals(t)){var r=e.v;Xe?Ve.set(e,t):Ve.set(e,r),e.v=t;var n=Me.ensure();if(n.capture(e,r),(e.f&Y)!==0){const s=e;(e.f&W)!==0&&Ar(s),$r(s)}e.wv=Pn(),_n(e,W),Mt()&&A!==null&&(A.f&F)!==0&&(A.f&(ve|qe))===0&&(ce===null?si([e]):ce.push(e)),!n.is_fork&&Tr.size>0&&!pn&&Gs()}return t}function Gs(){pn=!1;for(const e of Tr)(e.f&F)!==0&&L(e,be),St(e)&&At(e);Tr.clear()}function Pt(e){x(e,e.v+1)}function _n(e,t){var r=e.reactions;if(r!==null)for(var n=Mt(),s=r.length,i=0;i<s;i++){var l=r[i],o=l.f;if(!(!n&&l===A)){var a=(o&W)===0;if(a&&L(l,t),(o&Y)!==0){var f=l;pe?.delete(f),(o&rt)===0&&(o&le&&(l.f|=rt),_n(f,be))}else a&&((o&Te)!==0&&De!==null&&De.add(l),Pe(l))}}}function kt(e){if(typeof e!="object"||e===null||wt in e)return e;const t=vr(e);if(t!==_s&&t!==gs)return e;var r=new Map,n=qr(e),s=We(0),i=at,l=o=>{if(at===i)return o();var a=E,f=at;fe(null),Dn(i);var d=o();return fe(a),Dn(f),d};return n&&r.set("length",We(e.length)),new Proxy(e,{defineProperty(o,a,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ts();var d=r.get(a);return d===void 0?d=l(()=>{var h=We(f.value);return r.set(a,h),h}):x(d,f.value,!0),!0},deleteProperty(o,a){var f=r.get(a);if(f===void 0){if(a in o){const d=l(()=>We(j));r.set(a,d),Pt(s)}}else x(f,j),Pt(s);return!0},get(o,a,f){if(a===wt)return e;var d=r.get(a),h=a in o;if(d===void 0&&(!h||et(o,a)?.writable)&&(d=l(()=>{var v=kt(h?o[a]:j),m=We(v);return m}),r.set(a,d)),d!==void 0){var u=c(d);return u===j?void 0:u}return Reflect.get(o,a,f)},getOwnPropertyDescriptor(o,a){var f=Reflect.getOwnPropertyDescriptor(o,a);if(f&&"value"in f){var d=r.get(a);d&&(f.value=c(d))}else if(f===void 0){var h=r.get(a),u=h?.v;if(h!==void 0&&u!==j)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return f},has(o,a){if(a===wt)return!0;var f=r.get(a),d=f!==void 0&&f.v!==j||Reflect.has(o,a);if(f!==void 0||A!==null&&(!d||et(o,a)?.writable)){f===void 0&&(f=l(()=>{var u=d?kt(o[a]):j,v=We(u);return v}),r.set(a,f));var h=c(f);if(h===j)return!1}return d},set(o,a,f,d){var h=r.get(a),u=a in o;if(n&&a==="length")for(var v=f;v<h.v;v+=1){var m=r.get(v+"");m!==void 0?x(m,j):v in o&&(m=l(()=>We(j)),r.set(v+"",m))}if(h===void 0)(!u||et(o,a)?.writable)&&(h=l(()=>We(void 0)),x(h,kt(f)),r.set(a,h));else{u=h.v!==j;var b=l(()=>kt(f));x(h,b)}var p=Reflect.getOwnPropertyDescriptor(o,a);if(p?.set&&p.set.call(d,f),!u){if(n&&typeof a=="string"){var _=r.get("length"),y=Number(a);Number.isInteger(y)&&y>=_.v&&x(_,y+1)}Pt(s)}return!0},ownKeys(o){c(s);var a=Reflect.ownKeys(o).filter(h=>{var u=r.get(h);return u===void 0||u.v!==j});for(var[f,d]of r)d.v!==j&&!(f in o)&&a.push(f);return a},setPrototypeOf(){Cs()}})}var gn,mn,wn,yn;function Cr(){if(gn===void 0){gn=window,mn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;wn=et(t,"firstChild").get,yn=et(t,"nextSibling").get,Vr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Vr(r)&&(r.__t=void 0)}}function oe(e=""){return document.createTextNode(e)}function it(e){return wn.call(e)}function $e(e){return yn.call(e)}function Z(e,t){if(!S)return it(e);var r=it(T);if(r===null)r=T.appendChild(oe());else if(t&&r.nodeType!==wr){var n=oe();return r?.before(n),J(n),n}return J(r),r}function er(e,t=!1){if(!S){var r=it(e);return r instanceof Comment&&r.data===""?$e(r):r}if(t&&T?.nodeType!==wr){var n=oe();return T?.before(n),J(n),n}return T}function Ke(e,t=1,r=!1){let n=S?T:e;for(var s;t--;)s=n,n=$e(n);if(!S)return n;if(r&&n?.nodeType!==wr){var i=oe();return n===null?s?.after(i):n.before(i),J(i),i}return J(n),n}function bn(e){e.textContent=""}function $n(){return!1}let xn=!1;function Vs(){xn||(xn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Rr(e){var t=E,r=A;fe(null),xe(null);try{return e()}finally{fe(t),xe(r)}}function En(e){A===null&&(E===null&&Es(),xs()),Xe&&$s()}function Ws(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function _e(e,t,r){var n=A;n!==null&&(n.f&te)!==0&&(e|=te);var s={ctx:O,deps:null,nodes:null,f:e|W|le,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{At(s),s.f|=Wt}catch(o){throw K(s),o}else t!==null&&Pe(s);var i=s;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&tt)===0&&(i=i.first,(e&Te)!==0&&(e&mt)!==0&&i!==null&&(i.f|=mt)),i!==null&&(i.parent=n,n!==null&&Ws(i,n),E!==null&&(E.f&Y)!==0&&(e&qe)===0)){var l=E;(l.effects??=[]).push(i)}return s}function Nr(){return E!==null&&!ge}function kn(e){const t=_e(zt,null,!1);return L(t,F),t.teardown=e,t}function zr(e){En();var t=A.f,r=!E&&(t&ve)!==0&&(t&Wt)===0;if(r){var n=O;(n.e??=[]).push(e)}else return Sn(e)}function Sn(e){return _e(Vt|Zr,e,!1)}function Ks(e){return En(),_e(zt|Zr,e,!0)}function Xs(e){Me.ensure();const t=_e(qe|tt,e,!0);return()=>{K(t)}}function Js(e){Me.ensure();const t=_e(qe|tt,e,!0);return(r={})=>new Promise(n=>{r.outro?lt(t,()=>{K(t),n(void 0)}):(K(t),n(void 0))})}function Zs(e){return _e(Vt,e,!1)}function Mr(e,t){var r=O,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=tr(()=>{e(),!n.ran&&(n.ran=!0,H(t))})}function Qs(){var e=O;tr(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&F)!==0&&r.deps!==null&&L(r,be),St(r)&&At(r),t.ran=!1}})}function ei(e){return _e(mr|tt,e,!0)}function tr(e,t=0){return _e(zt|t,e,!0)}function Le(e,t=[],r=[],n=[]){js(n,t,r,s=>{_e(zt,()=>e(...s.map(c)),!0)})}function Or(e,t=0){var r=_e(Te|t,e,!0);return r}function ae(e){return _e(ve|tt,e,!0)}function An(e){var t=e.teardown;if(t!==null){const r=Xe,n=E;Mn(!0),fe(null);try{t.call(null)}finally{Mn(r),fe(n)}}}function Tn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const s=r.ac;s!==null&&Rr(()=>{s.abort(yt)});var n=r.next;(r.f&qe)!==0?r.parent=null:K(r,t),r=n}}function ti(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&ve)===0&&K(t),t=r}}function K(e,t=!0){var r=!1;(t||(e.f&Jr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ri(e.nodes.start,e.nodes.end),r=!0),Tn(e,t&&!r),nr(e,0),L(e,Ce);var n=e.nodes&&e.nodes.t;if(n!==null)for(const i of n)i.stop();An(e);var s=e.parent;s!==null&&s.first!==null&&Cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ri(e,t){for(;e!==null;){var r=e===t?null:$e(e);e.remove(),e=r}}function Cn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function lt(e,t,r=!0){var n=[];Rn(e,n,!0);var s=()=>{r&&K(e),t&&t()},i=n.length;if(i>0){var l=()=>--i||s();for(var o of n)o.out(l)}else s()}function Rn(e,t,r){if((e.f&te)===0){e.f^=te;var n=e.nodes&&e.nodes.t;if(n!==null)for(const o of n)(o.is_global||r)&&t.push(o);for(var s=e.first;s!==null;){var i=s.next,l=(s.f&mt)!==0||(s.f&ve)!==0&&(e.f&Te)!==0;Rn(s,t,l?r:!1),s=i}}}function Dr(e){Nn(e,!0)}function Nn(e,t){if((e.f&te)!==0){e.f^=te,(e.f&F)===0&&(L(e,W),Pe(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&mt)!==0||(r.f&ve)!==0;Nn(r,s?t:!1),r=n}var i=e.nodes&&e.nodes.t;if(i!==null)for(const l of i)(l.is_global||t)&&l.in()}}function zn(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var s=r===n?null:$e(r);t.append(r),r=s}}let rr=!1,Xe=!1;function Mn(e){Xe=e}let E=null,ge=!1;function fe(e){E=e}let A=null;function xe(e){A=e}let ue=null;function ni(e){E!==null&&(ue===null?ue=[e]:ue.push(e))}let Q=null,se=0,ce=null;function si(e){ce=e}let On=1,ot=0,at=ot;function Dn(e){at=e}function Pn(){return++On}function St(e){var t=e.f;if((t&W)!==0)return!0;if(t&Y&&(e.f&=~rt),(t&be)!==0){for(var r=e.deps,n=r.length,s=0;s<n;s++){var i=r[s];if(St(i)&&vn(i),i.wv>e.wv)return!0}(t&le)!==0&&pe===null&&L(e,F)}return!1}function Ln(e,t,r=!0){var n=e.reactions;if(n!==null&&!(ue!==null&&gt.call(ue,e)))for(var s=0;s<n.length;s++){var i=n[s];(i.f&Y)!==0?Ln(i,t,!1):t===i&&(r?L(i,W):(i.f&F)!==0&&L(i,be),Pe(i))}}function Fn(e){var t=Q,r=se,n=ce,s=E,i=ue,l=O,o=ge,a=at,f=e.f;Q=null,se=0,ce=null,E=(f&(ve|qe))===0?e:null,ue=null,$t(e.ctx),ge=!1,at=++ot,e.ac!==null&&(Rr(()=>{e.ac.abort(yt)}),e.ac=null);try{e.f|=gr;var d=e.fn,h=d(),u=e.deps,v=M?.is_fork;if(Q!==null){var m;if(v||nr(e,se),u!==null&&se>0)for(u.length=se+Q.length,m=0;m<Q.length;m++)u[se+m]=Q[m];else e.deps=u=Q;if(Nr()&&(e.f&le)!==0)for(m=se;m<u.length;m++)(u[m].reactions??=[]).push(e)}else!v&&u!==null&&se<u.length&&(nr(e,se),u.length=se);if(Mt()&&ce!==null&&!ge&&u!==null&&(e.f&(Y|be|W))===0)for(m=0;m<ce.length;m++)Ln(ce[m],e);if(s!==null&&s!==e){if(ot++,s.deps!==null)for(let b=0;b<r;b+=1)s.deps[b].rv=ot;if(t!==null)for(const b of t)b.rv=ot;ce!==null&&(n===null?n=ce:n.push(...ce))}return(e.f&Ge)!==0&&(e.f^=Ge),h}catch(b){return sn(b)}finally{e.f^=gr,Q=t,se=r,ce=n,E=s,ue=i,$t(l),ge=o,at=a}}function ii(e,t){let r=t.reactions;if(r!==null){var n=ps.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}if(r===null&&(t.f&Y)!==0&&(Q===null||!gt.call(Q,t))){var i=t;(i.f&le)!==0&&(i.f^=le,i.f&=~rt),$r(i),hn(i),nr(i,0)}}function nr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ii(e,r[n])}function At(e){var t=e.f;if((t&Ce)===0){L(e,F);var r=A,n=rr;A=e,rr=!0;try{(t&(Te|Kr))!==0?ti(e):Tn(e),An(e);var s=Fn(e);e.teardown=typeof s=="function"?s:null,e.wv=On;var i;hr&&ss&&(e.f&W)!==0&&e.deps}finally{rr=n,A=r}}}function c(e){var t=e.f,r=(t&Y)!==0;if(E!==null&&!ge){var n=A!==null&&(A.f&Ce)!==0;if(!n&&(ue===null||!gt.call(ue,e))){var s=E.deps;if((E.f&gr)!==0)e.rv<ot&&(e.rv=ot,Q===null&&s!==null&&s[se]===e?se++:Q===null?Q=[e]:Q.push(e));else{(E.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[E]:gt.call(i,E)||i.push(E)}}}if(Xe&&Ve.has(e))return Ve.get(e);if(r){var l=e;if(Xe){var o=l.v;return((l.f&F)===0&&l.reactions!==null||Un(l))&&(o=Ar(l)),Ve.set(l,o),o}var a=(l.f&le)===0&&!ge&&E!==null&&(rr||(E.f&le)!==0),f=l.deps===null;St(l)&&(a&&(l.f|=le),vn(l)),a&&!f&&In(l)}if(pe?.has(e))return pe.get(e);if((e.f&Ge)!==0)throw e.v;return e.v}function In(e){if(e.deps!==null){e.f|=le;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Y)!==0&&(t.f&le)===0&&In(t)}}function Un(e){if(e.v===j)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ve.has(t)||(t.f&Y)!==0&&Un(t))return!0;return!1}function H(e){var t=ge;try{return ge=!0,e()}finally{ge=t}}function Bn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(wt in e)Pr(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&wt in r&&Pr(r)}}}function Pr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Pr(e[n],t)}catch{}const r=vr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Gr(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}const li=new Set,jn=new Set;function oi(e,t,r,n={}){function s(i){if(n.capture||Lt.call(t,i),!i.cancelBubble)return Rr(()=>r?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ze(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Tt(e,t,r,n,s){var i={capture:n,passive:s},l=oi(e,t,r,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&kn(()=>{t.removeEventListener(e,l,i)})}let Yn=null;function Lt(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Yn=e;var l=0,o=Yn===e&&e.__root;if(o){var a=s.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;a<=f&&(l=a)}if(i=s[l]||e.target,i!==t){Gt(e,"currentTarget",{configurable:!0,get(){return i||r}});var d=E,h=A;fe(null),xe(null);try{for(var u,v=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+n];b!=null&&(!i.disabled||e.target===i)&&b.call(i,e)}catch(p){u?v.push(p):u=p}if(e.cancelBubble||m===t||m===null)break;i=m}if(u){for(let p of v)queueMicrotask(()=>{throw p});throw u}}finally{e.__root=t,delete e.currentTarget,fe(d),xe(h)}}}function ai(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ct(e,t){var r=A;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function me(e,t){var r=(t&ds)!==0,n=(t&hs)!==0,s,i=!e.startsWith("<!>");return()=>{if(S)return Ct(T,null),T;s===void 0&&(s=ai(i?e:"<!>"+e),r||(s=it(s)));var l=n||mn?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=it(l),a=l.lastChild;Ct(o,a)}else Ct(l,l);return l}}function Lr(){if(S)return Ct(T,null),T;var e=document.createDocumentFragment(),t=document.createComment(""),r=oe();return e.append(t,r),Ct(t,r),e}function X(e,t){if(S){var r=A;((r.f&Wt)===0||r.nodes.end===null)&&(r.nodes.end=T),Xt();return}e!==null&&e.before(t)}const fi=["touchstart","touchmove"];function ui(e){return fi.includes(e)}function ft(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Hn(e,t){return qn(e,t)}function ci(e,t){Cr(),t.intro=t.intro??!1;const r=t.target,n=S,s=T;try{for(var i=it(r);i&&(i.nodeType!==bt||i.data!==Hr);)i=$e(i);if(!i)throw _t;Ne(!0),J(i);const l=qn(e,{...t,anchor:i});return Ne(!1),l}catch(l){if(l instanceof Error&&l.message.split(`
`).some(o=>o.startsWith("https://svelte.dev/e/")))throw l;return l!==_t&&console.warn("Failed to hydrate: ",l),t.recover===!1&&Ss(),Cr(),bn(r),Ne(!1),Hn(e,t)}finally{Ne(n),J(s)}}const Rt=new Map;function qn(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:l=!0}){Cr();var o=new Set,a=h=>{for(var u=0;u<h.length;u++){var v=h[u];if(!o.has(v)){o.add(v);var m=ui(v);t.addEventListener(v,Lt,{passive:m});var b=Rt.get(v);b===void 0?(document.addEventListener(v,Lt,{passive:m}),Rt.set(v,1)):Rt.set(v,b+1)}}};a(Ht(li)),jn.add(a);var f=void 0,d=Js(()=>{var h=r??t.appendChild(oe());return Us(h,{pending:()=>{}},u=>{if(i){yr({});var v=O;v.c=i}if(s&&(n.$$events=s),S&&Ct(u,null),f=e(u,n)||{},S&&(A.nodes.end=T,T===null||T.nodeType!==bt||T.data!==dr))throw Kt(),_t;i&&br()}),()=>{for(var u of o){t.removeEventListener(u,Lt);var v=Rt.get(u);--v===0?(document.removeEventListener(u,Lt),Rt.delete(u)):Rt.set(u,v)}jn.delete(a),h!==r&&h.parentNode?.removeChild(h)}});return Fr.set(f,d),f}let Fr=new WeakMap;function di(e,t){const r=Fr.get(e);return r?(Fr.delete(e),r(t)):Promise.resolve()}class hi{anchor;#e=new Map;#t=new Map;#r=new Map;#i=new Set;#l=!0;constructor(t,r=!0){this.anchor=t,this.#l=r}#s=()=>{var t=M;if(this.#e.has(t)){var r=this.#e.get(t),n=this.#t.get(r);if(n)Dr(n),this.#i.delete(r);else{var s=this.#r.get(r);s&&(this.#t.set(r,s.effect),this.#r.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),n=s.effect)}for(const[i,l]of this.#e){if(this.#e.delete(i),i===t)break;const o=this.#r.get(l);o&&(K(o.effect),this.#r.delete(l))}for(const[i,l]of this.#t){if(i===r||this.#i.has(i))continue;const o=()=>{if(Array.from(this.#e.values()).includes(i)){var f=document.createDocumentFragment();zn(l,f),f.append(oe()),this.#r.set(i,{effect:l,fragment:f})}else K(l);this.#i.delete(i),this.#t.delete(i)};this.#l||!n?(this.#i.add(i),lt(l,o,!1)):o()}}};#n=t=>{this.#e.delete(t);const r=Array.from(this.#e.values());for(const[n,s]of this.#r)r.includes(n)||(K(s.effect),this.#r.delete(n))};ensure(t,r){var n=M,s=$n();if(r&&!this.#t.has(t)&&!this.#r.has(t))if(s){var i=document.createDocumentFragment(),l=oe();i.append(l),this.#r.set(t,{effect:ae(()=>r(l)),fragment:i})}else this.#t.set(t,ae(()=>r(this.anchor)));if(this.#e.set(n,t),s){for(const[o,a]of this.#t)o===t?n.skipped_effects.delete(a):n.skipped_effects.add(a);for(const[o,a]of this.#r)o===t?n.skipped_effects.delete(a.effect):n.skipped_effects.add(a.effect);n.oncommit(this.#s),n.ondiscard(this.#n)}else S&&(this.anchor=T),this.#s()}}function vi(e){O===null&&ys(),pt&&O.l!==null?pi(O).m.push(e):zr(()=>{const t=H(e);if(typeof t=="function")return t})}function pi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function ut(e,t,r=!1){S&&Xt();var n=new hi(e),s=r?mt:0;function i(l,o){if(S){const f=en(e)===Yt;if(l===f){var a=Jt();J(a),n.anchor=a,Ne(!1),n.ensure(l,o),Ne(!0);return}}n.ensure(l,o)}Or(()=>{var l=!1;t((o,a=!0)=>{l=!0,i(a,o)}),l||i(!1,null)},s)}function Ir(e,t){return t}function _i(e,t,r){for(var n=[],s=t.length,i,l=t.length,o=0;o<s;o++){let h=t[o];lt(h,()=>{if(i){if(i.pending.delete(h),i.done.add(h),i.pending.size===0){var u=e.outrogroups;Ur(Ht(i.done)),u.delete(i),u.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var a=n.length===0&&r!==null;if(a){var f=r,d=f.parentNode;bn(d),d.append(f),e.items.clear()}Ur(t,!a)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Ur(e,t=!0){for(var r=0;r<e.length;r++)K(e[r],t)}var Gn;function Br(e,t,r,n,s,i=null){var l=e,o=new Map,a=(t&Yr)!==0;if(a){var f=e;l=S?J(it(f)):f.appendChild(oe())}S&&Xt();var d=null,h=Sr(()=>{var _=r();return qr(_)?_:_==null?[]:Ht(_)}),u,v=!0;function m(){p.fallback=d,gi(p,u,l,t,n),d!==null&&(u.length===0?(d.f&Re)===0?Dr(d):(d.f^=Re,It(d,null,l)):lt(d,()=>{d=null}))}var b=Or(()=>{u=c(h);var _=u.length;let y=!1;if(S){var k=en(l)===Yt;k!==(_===0)&&(l=Jt(),J(l),Ne(!1),y=!0)}for(var C=new Set,R=M,I=$n(),D=0;D<_;D+=1){S&&T.nodeType===bt&&T.data===dr&&(l=T,y=!0,Ne(!1));var q=u[D],P=n(q,D),N=v?null:o.get(P);N?(N.v&&Et(N.v,q),N.i&&Et(N.i,D),I&&R.skipped_effects.delete(N.e)):(N=mi(o,v?l:Gn??=oe(),q,P,D,s,t,r),v||(N.e.f|=Re),o.set(P,N)),C.add(P)}if(_===0&&i&&!d&&(v?d=ae(()=>i(l)):(d=ae(()=>i(Gn??=oe())),d.f|=Re)),S&&_>0&&J(Jt()),!v)if(I){for(const[Ee,Ut]of o)C.has(Ee)||R.skipped_effects.add(Ut.e);R.oncommit(m),R.ondiscard(()=>{})}else m();y&&Ne(!0),c(h)}),p={effect:b,items:o,outrogroups:null,fallback:d};v=!1,S&&(l=T)}function Ft(e){for(;e!==null&&(e.f&ve)===0;)e=e.next;return e}function gi(e,t,r,n,s){var i=(n&as)!==0,l=t.length,o=e.items,a=Ft(e.effect.first),f,d=null,h,u=[],v=[],m,b,p,_;if(i)for(_=0;_<l;_+=1)m=t[_],b=s(m,_),p=o.get(b).e,(p.f&Re)===0&&(p.nodes?.a?.measure(),(h??=new Set).add(p));for(_=0;_<l;_+=1){if(m=t[_],b=s(m,_),p=o.get(b).e,e.outrogroups!==null)for(const N of e.outrogroups)N.pending.delete(p),N.done.delete(p);if((p.f&Re)!==0)if(p.f^=Re,p===a)It(p,null,r);else{var y=d?d.next:a;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Je(e,d,p),Je(e,p,y),It(p,y,r),d=p,u=[],v=[],a=Ft(d.next);continue}if((p.f&te)!==0&&(Dr(p),i&&(p.nodes?.a?.unfix(),(h??=new Set).delete(p))),p!==a){if(f!==void 0&&f.has(p)){if(u.length<v.length){var k=v[0],C;d=k.prev;var R=u[0],I=u[u.length-1];for(C=0;C<u.length;C+=1)It(u[C],k,r);for(C=0;C<v.length;C+=1)f.delete(v[C]);Je(e,R.prev,I.next),Je(e,d,R),Je(e,I,k),a=k,d=I,_-=1,u=[],v=[]}else f.delete(p),It(p,a,r),Je(e,p.prev,p.next),Je(e,p,d===null?e.effect.first:d.next),Je(e,d,p),d=p;continue}for(u=[],v=[];a!==null&&a!==p;)(f??=new Set).add(a),v.push(a),a=Ft(a.next);if(a===null)continue}(p.f&Re)===0&&u.push(p),d=p,a=Ft(p.next)}if(e.outrogroups!==null){for(const N of e.outrogroups)N.pending.size===0&&(Ur(Ht(N.done)),e.outrogroups?.delete(N));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||f!==void 0){var D=[];if(f!==void 0)for(p of f)(p.f&te)===0&&D.push(p);for(;a!==null;)(a.f&te)===0&&a!==e.fallback&&D.push(a),a=Ft(a.next);var q=D.length;if(q>0){var P=(n&Yr)!==0&&l===0?r:null;if(i){for(_=0;_<q;_+=1)D[_].nodes?.a?.measure();for(_=0;_<q;_+=1)D[_].nodes?.a?.fix()}_i(e,D,P)}}i&&ze(()=>{if(h!==void 0)for(p of h)p.nodes?.a?.apply()})}function mi(e,t,r,n,s,i,l,o){var a=(l&ls)!==0?(l&fs)===0?ne(r,!1,!1):st(r):null,f=(l&os)!==0?st(s):null;return{v:a,i:f,e:ae(()=>(i(t,a??r,f??s,o),()=>{e.delete(n)}))}}function It(e,t,r){if(e.nodes)for(var n=e.nodes.start,s=e.nodes.end,i=t&&(t.f&Re)===0?t.nodes.start:r;n!==null;){var l=$e(n);if(i.before(n),n===s)return;n=l}}function Je(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function wi(e,t){Zs(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){const s=document.createElement("style");s.id=t.hash,s.textContent=t.code,n.appendChild(s)}})}const Vn=[...` 	
\r\f \v\uFEFF`];function yi(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,l=0;(l=n.indexOf(s,l))>=0;){var o=l+i;(l===0||Vn.includes(n[l-1]))&&(o===n.length||Vn.includes(n[o]))?n=(l===0?"":n.substring(0,l))+n.substring(o+1):l=o}}return n===""?null:n}function bi(e,t){return e==null?null:String(e)}function sr(e,t,r,n,s,i){var l=e.__className;if(S||l!==r||l===void 0){var o=yi(r,n,i);(!S||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=r}else if(i&&s!==i)for(var a in i){var f=!!i[a];(s==null||f!==!!s[a])&&e.classList.toggle(a,f)}return i}function $i(e,t,r,n){var s=e.__style;if(S||s!==t){var i=bi(t);(!S||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return n}const xi=Symbol("is custom element"),Ei=Symbol("is html");function ki(e){if(S){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;ir(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var s=e.checked;ir(e,"checked",null),e.checked=s}}};e.__on_r=r,ze(r),Vs()}}function Si(e,t){var r=Wn(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ir(e,t,r,n){var s=Wn(e);S&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=r)&&(t==="loading"&&(e[ws]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ai(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Wn(e){return e.__attributes??={[xi]:e.nodeName.includes("-"),[Ei]:e.namespaceURI===vs}}var Kn=new Map;function Ai(e){var t=e.getAttribute("is")||e.nodeName,r=Kn.get(t);if(r)return r;Kn.set(t,r=[]);for(var n,s=e,i=Element.prototype;i!==s;){n=Gr(s);for(var l in n)n[l].set&&r.push(l);s=vr(s)}return r}function Ti(e=!1){const t=O,r=t.l.u;if(!r)return;let n=()=>Bn(t.s);if(e){let s=0,i={};const l=kr(()=>{let o=!1;const a=t.s;for(const f in a)a[f]!==i[f]&&(i[f]=a[f],o=!0);return o&&s++,s});n=()=>c(l)}r.b.length&&Ks(()=>{Xn(t,n),pr(r.b)}),zr(()=>{const s=H(()=>r.m.map(ms));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&zr(()=>{Xn(t,n),pr(r.a)})}function Xn(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}let lr=!1;function Ci(e){var t=lr;try{return lr=!1,[e(),lr]}finally{lr=t}}function Ze(e,t,r,n){var s=!pt||(r&us)!==0,i=(r&cs)!==0,l=n,o=!0,a=()=>(o&&(o=!1,l=n),l),f;{var d=wt in e||Qr in e;f=et(e,t)?.set??(d&&t in e?y=>e[t]=y:void 0)}var h,u=!1;[h,u]=Ci(()=>e[t]),h===void 0&&n!==void 0&&(h=a(),f&&(s&&As(),f(h)));var v;if(s?v=()=>{var y=e[t];return y===void 0?a():(o=!0,y)}:v=()=>{var y=e[t];return y!==void 0&&(l=void 0),y===void 0?l:y},f){var m=e.$$legacy;return(function(y,k){return arguments.length>0?((!s||!k||m||u)&&f(k?v():y),y):v()})}var b=!1,p=Sr(()=>(b=!1,v()));c(p);var _=A;return(function(y,k){if(arguments.length>0){const C=k?c(p):s&&i?kt(y):y;return x(p,C),b=!0,l!==void 0&&(l=C),y}return Xe&&b||(_.f&Ce)!==0?p.v:c(p)})}function Ri(e){return new Ni(e)}class Ni{#e;#t;constructor(t){var r=new Map,n=(i,l)=>{var o=ne(l,!1,!1);return r.set(i,o),o};const s=new Proxy({...t.props||{},$$events:{}},{get(i,l){return c(r.get(l)??n(l,Reflect.get(i,l)))},has(i,l){return l===Qr?!0:(c(r.get(l)??n(l,Reflect.get(i,l))),Reflect.has(i,l))},set(i,l,o){return x(r.get(l)??n(l,o),o),Reflect.set(i,l,o)}});this.#t=(t.hydrate?ci:Hn)(t.component,{target:t.target,anchor:t.anchor,props:s,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&Oe(),this.#e=s.$$events;for(const i of Object.keys(this.#t))i==="$set"||i==="$destroy"||i==="$on"||Gt(this,i,{get(){return this.#t[i]},set(l){this.#t[i]=l},enumerable:!0});this.#t.$set=i=>{Object.assign(s,i)},this.#t.$destroy=()=>{di(this.#t)}}$set(t){this.#t.$set(t)}$on(t,r){this.#e[t]=this.#e[t]||[];const n=(...s)=>r.call(this,...s);return this.#e[t].push(n),()=>{this.#e[t]=this.#e[t].filter(s=>s!==n)}}$destroy(){this.#t.$destroy()}}let Jn;typeof HTMLElement=="function"&&(Jn=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;$$shadowRoot=null;constructor(e,t,r){super(),this.$$ctor=e,this.$$s=t,r&&(this.$$shadowRoot=this.attachShadow(r))}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){const n=this.$$l_u.get(t);n&&(n(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(n){return s=>{const i=document.createElement("slot");n!=="default"&&(i.name=n),X(s,i)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},r=zi(this);for(const n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=e(n),t.default=!0):t[n]=e(n));for(const n of this.attributes){const s=this.$$g_p(n.name);s in this.$$d||(this.$$d[s]=or(s,n.value,this.$$p_d,"toProp"))}for(const n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=Ri({component:this.$$ctor,target:this.$$shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=Xs(()=>{tr(()=>{this.$$r=!0;for(const n of qt(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];const s=or(n,this.$$d[n],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,s)}this.$$r=!1})});for(const n in this.$$l)for(const s of this.$$l[n]){const i=this.$$c.$on(n,s);this.$$l_u.set(s,i)}this.$$l={}}}attributeChangedCallback(e,t,r){this.$$r||(e=this.$$g_p(e),this.$$d[e]=or(e,r,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return qt(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function or(e,t,r,n){const s=r[e]?.type;if(t=s==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(s){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(s){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function zi(e){const t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}function Zn(e,t,r,n,s,i){let l=class extends Jn{constructor(){super(e,r,s),this.$$p_d=t}static get observedAttributes(){return qt(t).map(o=>(t[o].attribute||o).toLowerCase())}};return qt(t).forEach(o=>{Gt(l.prototype,o,{get(){return this.$$c&&o in this.$$c?this.$$c[o]:this.$$d[o]},set(a){a=or(o,a,t),this.$$d[o]=a;var f=this.$$c;if(f){var d=et(f,o)?.get;d?f[o]=a:f.$set({[o]:a})}}})}),n.forEach(o=>{Gt(l.prototype,o,{get(){return this.$$c?.[o]}})}),e.element=l,l}function Mi(e){return function(){let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Oi(e,t){const r=[...e];for(let n=r.length-1;n>0;n--){const s=Math.floor(t()*(n+1));[r[n],r[s]]=[r[s],r[n]]}return r}function Di(e,t=1){if(!e||e.length===0)return{placedWords:[],gridSize:10,success:!1,seed:t};const r=Mi(t),n=[...e].map(_=>({..._,word:_.word.toUpperCase()})).sort((_,y)=>y.word.length-_.word.length),s=Oi(n,r),i={},l=[],o=(_,y,k)=>{i[`${_},${y}`]=k},a=s[0];for(let _=0;_<a.word.length;_++)o(_,0,a.word[_]);l.push({word:a.word,clue:a.clue,x:0,y:0,direction:"across"});let f=s.slice(1),d=3,h=0;for(;f.length>0&&h<d;){h++;const _=[];for(const y of f){const k=y.word;let C=!1;e:for(const R of l){const I=R.word;for(let D=0;D<I.length&&!C;D++)for(let q=0;q<k.length&&!C;q++){if(I[D]!==k[q])continue;const P=R.direction==="across"?"down":"across";let N,Ee;if(R.direction==="across"?(N=R.x+D,Ee=R.y-q):(N=R.x-q,Ee=R.y+D),Pi(i,k,N,Ee,P)){const Ut=P==="across"?1:0,jr=P==="down"?1:0;for(let ct=0;ct<k.length;ct++)o(N+ct*Ut,Ee+ct*jr,k[ct]);l.push({word:k,clue:y.clue,x:N,y:Ee,direction:P}),C=!0;break e}}}C||_.push(y)}if(_.length===f.length)break;f=_}if(f.length>0){console.warn(`Fallback placement for ${f.length} isolated words:`,f.map(R=>R.word));let _=-1/0;for(const R of Object.keys(i)){const[,I]=R.split(",").map(Number);_=Math.max(_,I)}let y=_+3,k=0,C="across";for(const R of f){const I=R.word,D=C==="across"?1:0,q=C==="down"?1:0;for(let P=0;P<I.length;P++)o(k+P*D,y+P*q,I[P]);l.push({word:I,clue:R.clue,x:k,y,direction:C}),C==="across"?y+=2:k+=I.length+2,C=C==="across"?"down":"across"}}let u=1/0,v=1/0,m=-1/0,b=-1/0;for(const _ of Object.keys(i)){const[y,k]=_.split(",").map(Number);u=Math.min(u,y),v=Math.min(v,k),m=Math.max(m,y),b=Math.max(b,k)}for(const _ of l)_.x-=u,_.y-=v;const p=Math.max(m-u+1,b-v+1,5);return Li(i,u,v,m,b),console.log(`Layout complete: ${l.length}/${e.length} words placed`),{placedWords:l,gridSize:p,success:l.length===e.length,seed:t}}function Pi(e,t,r,n,s){const i=s==="across"?1:0,l=s==="down"?1:0,o=r-i,a=n-l;if(e[`${o},${a}`])return!1;const f=r+t.length*i,d=n+t.length*l;if(e[`${f},${d}`])return!1;let h=0;for(let u=0;u<t.length;u++){const v=r+u*i,m=n+u*l,b=`${v},${m}`,p=t[u],_=e[b];if(_){if(_!==p)return!1;h++}else{const y=s==="across"?0:1,k=s==="down"?0:1,C=e[`${v+y},${m+k}`],R=e[`${v-y},${m-k}`];if(C||R)return!1}}return h>0}function Li(e,t,r,n,s){console.log(`
=== Crossword Grid ===`);for(let i=r;i<=s;i++){let l="";for(let o=t;o<=n;o++)l+=e[`${o},${i}`]||".";console.log(l)}console.log("======================")}var Fi=me('<div class="loading svelte-uhrgc5"><div class="spinner svelte-uhrgc5"></div> <p class="svelte-uhrgc5">Loading puzzle...</p></div>'),Ii=me('<div class="error svelte-uhrgc5"><p class="svelte-uhrgc5"> </p></div>'),Ui=me('<span class="cell-number svelte-uhrgc5"> </span>'),Bi=me('<input type="text" maxlength="1" autocomplete="off" autocapitalize="characters" class="svelte-uhrgc5"/>'),ji=me('<div role="button"><!> <!></div>'),Yi=me('<button class="shuffle-button svelte-uhrgc5" title="Try a different layout">↻ Shuffle</button> <span class="seed-display svelte-uhrgc5"> </span>',1),Hi=me("<div> </div>"),qi=me('<li class="svelte-uhrgc5"><span class="clue-number svelte-uhrgc5"> </span> <span> </span> </li>'),Gi=me('<div class="game-layout svelte-uhrgc5"><div class="grid-container svelte-uhrgc5"><div class="crossword-grid svelte-uhrgc5"></div> <div class="button-row svelte-uhrgc5"><button class="check-button svelte-uhrgc5">Check Answers</button> <!></div> <!></div> <div class="clues-container svelte-uhrgc5"><ul class="clues-list svelte-uhrgc5"></ul></div></div>'),Vi=me('<div class="no-puzzle svelte-uhrgc5"><p class="svelte-uhrgc5">No puzzle loaded. Set the <code class="svelte-uhrgc5">puzzle-id</code> attribute.</p></div>'),Wi=me("<div><!></div>");const Ki={hash:"svelte-uhrgc5",code:`.svelte-uhrgc5 {box-sizing:border-box;}.crossword-container.svelte-uhrgc5 {font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;padding:24px;max-width:1200px;margin:0 auto;}

  /* Theme Colors */.light-theme.svelte-uhrgc5 {--bg-primary: #ffffff;--bg-secondary: #f8f9fa;--text-primary: #1a1a2e;--text-secondary: #6c757d;--border-color: #dee2e6;--cell-bg: #ffffff;--cell-blocked: #1a1a2e;--cell-selected: #667eea;--accent: #667eea;--accent-hover: #5a67d8;}.dark-theme.svelte-uhrgc5 {--bg-primary: #1a1a2e;--bg-secondary: #16213e;--text-primary: #e4e4e7;--text-secondary: #a1a1aa;--border-color: #3f3f46;--cell-bg: #27272a;--cell-blocked: #09090b;--cell-selected: #8b5cf6;--accent: #8b5cf6;--accent-hover: #7c3aed;}.crossword-container.svelte-uhrgc5 {background:var(--bg-primary);color:var(--text-primary);}

  /* Loading & Error States */.loading.svelte-uhrgc5,
  .error.svelte-uhrgc5,
  .no-puzzle.svelte-uhrgc5 {text-align:center;padding:48px;}.spinner.svelte-uhrgc5 {width:40px;height:40px;border:4px solid var(--border-color);border-top-color:var(--accent);border-radius:50%;
    animation: svelte-uhrgc5-spin 1s linear infinite;margin:0 auto 16px;}

  @keyframes svelte-uhrgc5-spin {
    to {
      transform: rotate(360deg);
    }
  }.error.svelte-uhrgc5 {color:#ef4444;}

  /* Header */.puzzle-header.svelte-uhrgc5 {display:flex;align-items:center;gap:16px;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--border-color);}.preview-badge.svelte-uhrgc5 {background:linear-gradient(135deg, #f59e0b, #ef4444);color:white;padding:4px 12px;border-radius:20px;font-size:0.75rem;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;}

  /* Game Layout - Fixed 60/40 proportions */.game-layout.svelte-uhrgc5 {display:grid;grid-template-columns:60% 40%;gap:24px;align-items:start;}

  @media (max-width: 768px) {.game-layout.svelte-uhrgc5 {grid-template-columns:1fr;}
  }

  /* Grid */.grid-container.svelte-uhrgc5 {display:flex;flex-direction:column;gap:16px;}.button-row.svelte-uhrgc5 {display:flex;gap:8px;flex-wrap:wrap;align-items:center;}.seed-display.svelte-uhrgc5 {font-size:0.85rem;color:var(--text-secondary);background:var(--bg-secondary);padding:6px 12px;border-radius:4px;font-family:monospace;}.crossword-grid.svelte-uhrgc5 {display:grid;grid-template-columns:repeat(var(--grid-cols), 1fr);grid-template-rows:repeat(var(--grid-rows), 1fr);gap:1px;background:var(--border-color);border:2px solid var(--border-color);border-radius:8px;overflow:hidden;max-width:100%;aspect-ratio:var(--grid-cols) / var(--grid-rows);}.cell.svelte-uhrgc5 {position:relative;background:var(--cell-bg);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.15s ease;}.cell.blocked.svelte-uhrgc5 {background:var(--cell-blocked);cursor:default;}.cell.selected.svelte-uhrgc5 {background:var(--cell-selected);}.cell.selected.svelte-uhrgc5 input:where(.svelte-uhrgc5) {color:white;}.cell-number.svelte-uhrgc5 {position:absolute;top:2px;left:3px;font-size:9px;font-weight:600;color:var(--text-secondary);pointer-events:none;}.cell.selected.svelte-uhrgc5 .cell-number:where(.svelte-uhrgc5) {color:rgba(255, 255, 255, 0.8);}.cell.svelte-uhrgc5 input:where(.svelte-uhrgc5) {width:100%;height:100%;border:none;background:transparent;text-align:center;font-size:18px;font-weight:600;text-transform:uppercase;color:var(--text-primary);outline:none;caret-color:var(--accent);}.cell.svelte-uhrgc5 input:where(.svelte-uhrgc5):focus {outline:none;}

  /* Check Button */.check-button.svelte-uhrgc5 {padding:12px 24px;background:linear-gradient(135deg, var(--accent), #f472b6);color:white;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s ease;box-shadow:0 4px 14px rgba(102, 126, 234, 0.4);}.check-button.svelte-uhrgc5:hover {transform:translateY(-2px);box-shadow:0 6px 20px rgba(102, 126, 234, 0.5);}.check-button.svelte-uhrgc5:active {transform:translateY(0);}.shuffle-button.svelte-uhrgc5 {padding:12px 16px;background:var(--bg-secondary);color:var(--text-primary);border:2px solid var(--border-color);border-radius:8px;font-size:0.9rem;font-weight:600;cursor:pointer;transition:all 0.2s ease;}.shuffle-button.svelte-uhrgc5:hover {background:var(--accent);color:white;border-color:var(--accent);transform:translateY(-2px);}.shuffle-button.svelte-uhrgc5:active {transform:translateY(0);}

  /* Feedback Messages */.feedback.svelte-uhrgc5 {padding:12px 16px;border-radius:8px;font-weight:500;text-align:center;
    animation: svelte-uhrgc5-slideIn 0.3s ease;}.feedback.success.svelte-uhrgc5 {background:#10b981;color:white;}.feedback.good.svelte-uhrgc5 {background:#3b82f6;color:white;}.feedback.info.svelte-uhrgc5 {background:#f59e0b;color:white;}

  @keyframes svelte-uhrgc5-slideIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Clues */.clues-container.svelte-uhrgc5 {min-width:200px;}.clues-list.svelte-uhrgc5 {list-style:none;padding:0;margin:0;}.clues-list.svelte-uhrgc5 li:where(.svelte-uhrgc5) {display:flex;align-items:flex-start;gap:8px;padding:8px 0;font-size:0.9rem;line-height:1.4;border-bottom:1px solid var(--border-color);}.clues-list.svelte-uhrgc5 li:where(.svelte-uhrgc5):last-child {border-bottom:none;}.clue-arrow.svelte-uhrgc5 {font-size:12px;font-weight:600;flex-shrink:0;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:3px;margin-top:2px;}.clue-arrow.across.svelte-uhrgc5 {color:var(--accent);}.clue-arrow.down.svelte-uhrgc5 {color:#f472b6;}.clue-number.svelte-uhrgc5 {font-weight:600;color:var(--text-secondary);min-width:20px;}code.svelte-uhrgc5 {background:var(--bg-secondary);padding:2px 6px;border-radius:4px;font-size:0.85em;}`};function Qn(e,t){yr(t,!1),wi(e,Ki);const r=ne(),n=ne();let s=Ze(t,"puzzleId",12,""),i=Ze(t,"theme",12,"light"),l=Ze(t,"apiUrl",12,"http://localhost:8055"),o=Ze(t,"layoutSeed",12,1),a=ne(null),f=ne([]),d=10,h=ne(o()),u=ne({}),v=ne(null),m="across",b=ne(!1),p=ne(!0),_=ne(null),y=ne(null);vi(()=>{const g=new URLSearchParams(window.location.search);return x(b,g.get("preview")==="true"),c(b)&&window.addEventListener("message",k),s()&&C(),()=>{window.removeEventListener("message",k)}});function k(g){const w=g.data;console.log("Preview message received:",w),w&&(w.collection==="crosswords"&&w.item?(x(a,w.item),x(p,!1)):w.type==="preview"&&w.data?(x(a,w.data),x(p,!1)):w.event==="update"&&w.payload&&(x(a,w.payload),x(p,!1)))}async function C(){try{x(p,!0);const g=await fetch(`${l()}/items/crosswords/${s()}`);if(!g.ok)throw new Error("Failed to fetch puzzle");const w=await g.json();x(a,w.data),c(a).layout_seed!==void 0&&c(a).layout_seed!==null&&x(h,c(a).layout_seed)}catch(g){x(_,g.message)}finally{x(p,!1)}}function R(){const g=c(a).words||[];let w=g,$=c(a).grid_size||15;if(!g.some(z=>z.x!==void 0&&z.y!==void 0)&&g.length>0){const z=Di(g,c(h));w=z.placedWords,$=z.gridSize,console.log("Auto-layout generated with seed",c(h),":",z)}d=$,x(f,Array($).fill(null).map(()=>Array($).fill(null).map(()=>({letter:"",isBlocked:!0,number:null,wordIds:[]}))));let ee=1;const we=new Set,ke=[...w].sort((z,ie)=>{const Ie=z.y*$+z.x,de=ie.y*$+ie.x;return Ie-de});ke.forEach((z,ie)=>{const{word:Ie,x:de,y:Se,direction:ur}=z;if(de===void 0||Se===void 0)return;const cr=`${de},${Se}`;we.has(cr)||(we.add(cr),c(f)[Se]&&c(f)[Se][de]&&Dt(f,c(f)[Se][de].number=ee++));for(let ht=0;ht<Ie.length;ht++){const vt=ur==="across"?de+ht:de,Ue=ur==="down"?Se+ht:Se;Ue<$&&vt<$&&c(f)[Ue]&&c(f)[Ue][vt]&&(Dt(f,c(f)[Ue][vt].letter=Ie[ht].toUpperCase()),Dt(f,c(f)[Ue][vt].isBlocked=!1),c(f)[Ue][vt].wordIds.push(ie))}});let Qe=0,dt=0;for(let z=0;z<c(f).length;z++)for(let ie=0;ie<c(f)[z].length;ie++)c(f)[z][ie].isBlocked||(Qe=Math.max(Qe,z),dt=Math.max(dt,ie));const fr=Qe+1,Fe=dt+1;x(f,c(f).slice(0,fr).map(z=>z.slice(0,Fe))),d=Math.max(fr,Fe),Dt(a,c(a)._layoutWords=ke)}function I(g,w){c(f)[g][w].isBlocked||(c(v)?.row===g&&c(v)?.col===w&&(m=m==="across"?"down":"across"),x(v,{row:g,col:w}))}function D(g,w,$){const U=g.target.value.toUpperCase().slice(-1),ee=`${w},${$}`;Dt(u,c(u)[ee]=U),x(u,c(u)),U&&P(w,$)}function q(g,w,$){g.key==="Backspace"&&!c(u)[`${w},${$}`]?(g.preventDefault(),N(w,$)):g.key==="ArrowRight"?(g.preventDefault(),m="across",P(w,$)):g.key==="ArrowLeft"?(g.preventDefault(),m="across",N(w,$)):g.key==="ArrowDown"?(g.preventDefault(),m="down",P(w,$)):g.key==="ArrowUp"&&(g.preventDefault(),m="down",N(w,$))}function P(g,w){const $=d;let U=g,ee=w;if(m==="across"){if(ee=w+1,ee>=$)return}else if(U=g+1,U>=$)return;c(f)[U][ee].isBlocked||(x(v,{row:U,col:ee}),Ee(U,ee))}function N(g,w){let $=g,U=w;if(m==="across"){if(U=w-1,U<0)return}else if($=g-1,$<0)return;c(f)[$][U].isBlocked||(x(v,{row:$,col:U}),Ee($,U))}function Ee(g,w){setTimeout(()=>{const $=document.querySelector(`[data-cell="${g},${w}"]`);$&&$.focus()},0)}function Ut(){let g=0,w=0;c(f).forEach(($,U)=>{$.forEach((ee,we)=>{ee.isBlocked||(w++,(c(u)[`${U},${we}`]||"")===ee.letter&&g++)})}),g===w?x(y,{type:"success",message:"🎉 Perfect! All correct!"}):g>=w*.8?x(y,{type:"good",message:`👍 Great job! ${g}/${w} correct`}):x(y,{type:"info",message:`${g}/${w} correct - keep trying!`}),setTimeout(()=>x(y,null),4e3)}function jr(){return(c(a)?._layoutWords||c(a)?.words||[]).map(w=>({number:c(f)[w.y]?.[w.x]?.number||"?",clue:w.clue,direction:w.direction,arrow:w.direction==="across"?"→":"↓"})).sort((w,$)=>w.number-$.number)}function ct(){x(h,c(h)+1),x(u,{}),R()}Mr(()=>c(a),()=>{c(a)&&R()}),Mr(()=>Bn(i()),()=>{x(r,i()==="dark"?"dark-theme":"light-theme")}),Mr(()=>c(a),()=>{x(n,c(a)?jr():[])}),Qs();var Xi={get puzzleId(){return s()},set puzzleId(g){s(g),Oe()},get theme(){return i()},set theme(g){i(g),Oe()},get apiUrl(){return l()},set apiUrl(g){l(g),Oe()},get layoutSeed(){return o()},set layoutSeed(g){o(g),Oe()}};Ti();var ar=Wi(),Ji=Z(ar);{var Zi=g=>{var w=Fi();X(g,w)},Qi=g=>{var w=Lr(),$=er(w);{var U=we=>{var ke=Ii(),Qe=Z(ke),dt=Z(Qe);G(Qe),G(ke),Le(()=>ft(dt,`⚠️ ${c(_)??""}`)),X(we,ke)},ee=we=>{var ke=Lr(),Qe=er(ke);{var dt=Fe=>{var z=Gi(),ie=Z(z),Ie=Z(ie);Br(Ie,5,()=>c(f),Ir,(ye,B,V)=>{var Be=Lr(),Bt=er(Be);Br(Bt,1,()=>c(B),Ir,(Nt,he,je)=>{var Ye=ji();let rs;var ns=Z(Ye);{var el=He=>{var Ae=Ui(),jt=Z(Ae,!0);G(Ae),Le(()=>ft(jt,(c(he),H(()=>c(he).number)))),X(He,Ae)};ut(ns,He=>{c(he),H(()=>c(he).number)&&He(el)})}var tl=Ke(ns,2);{var rl=He=>{var Ae=Bi();ki(Ae),ir(Ae,"data-cell",`${V},${je}`),Le(()=>Si(Ae,(c(u),H(()=>c(u)[`${V},${je}`]||"")))),Tt("input",Ae,jt=>D(jt,V,je)),Tt("keydown",Ae,jt=>q(jt,V,je)),X(He,Ae)};ut(tl,He=>{c(he),H(()=>!c(he).isBlocked)&&He(rl)})}G(Ye),Le(()=>{rs=sr(Ye,1,"cell svelte-uhrgc5",null,rs,{blocked:c(he).isBlocked,selected:c(v)?.row===V&&c(v)?.col===je}),ir(Ye,"tabindex",(c(he),H(()=>c(he).isBlocked?-1:0)))}),Tt("click",Ye,()=>I(V,je)),Tt("keydown",Ye,He=>He.key==="Enter"&&I(V,je)),X(Nt,Ye)}),X(ye,Be)}),G(Ie);var de=Ke(Ie,2),Se=Z(de),ur=Ke(Se,2);{var cr=ye=>{var B=Yi(),V=er(B),Be=Ke(V,2),Bt=Z(Be);G(Be),Le(()=>ft(Bt,`Seed: ${c(h)??""}`)),Tt("click",V,ct),X(ye,B)};ut(ur,ye=>{c(b)&&ye(cr)})}G(de);var ht=Ke(de,2);{var vt=ye=>{var B=Hi(),V=Z(B,!0);G(B),Le(()=>{sr(B,1,`feedback ${c(y),H(()=>c(y).type)??""}`,"svelte-uhrgc5"),ft(V,(c(y),H(()=>c(y).message)))}),X(ye,B)};ut(ht,ye=>{c(y)&&ye(vt)})}G(ie);var Ue=Ke(ie,2),ts=Z(Ue);Br(ts,5,()=>c(n),Ir,(ye,B)=>{var V=qi(),Be=Z(V),Bt=Z(Be);G(Be);var Nt=Ke(Be,2);let he;var je=Z(Nt,!0);G(Nt);var Ye=Ke(Nt);G(V),Le(()=>{ft(Bt,`${c(B),H(()=>c(B).number)??""}.`),he=sr(Nt,1,"clue-arrow svelte-uhrgc5",null,he,{across:c(B).direction==="across",down:c(B).direction==="down"}),ft(je,(c(B),H(()=>c(B).arrow))),ft(Ye,` ${c(B),H(()=>c(B).clue)??""}`)}),X(ye,V)}),G(ts),G(Ue),G(z),Le(()=>$i(Ie,`--grid-cols: ${c(f),H(()=>c(f)[0]?.length||1)??""}; --grid-rows: ${c(f),H(()=>c(f).length||1)??""}`)),Tt("click",Se,Ut),X(Fe,z)},fr=Fe=>{var z=Vi();X(Fe,z)};ut(Qe,Fe=>{c(a)?Fe(dt):Fe(fr,!1)},!0)}X(we,ke)};ut($,we=>{c(_)?we(U):we(ee,!1)},!0)}X(g,w)};ut(Ji,g=>{c(p)?g(Zi):g(Qi,!1)})}return G(ar),Le(()=>sr(ar,1,`crossword-container ${c(r)??""}`,"svelte-uhrgc5")),X(e,ar),br(Xi)}Zn(Qn,{puzzleId:{},theme:{},apiUrl:{},layoutSeed:{}},[],[],{mode:"open"});function es(e,t){yr(t,!1);let r=Ze(t,"puzzleId",12,""),n=Ze(t,"theme",12,"light"),s=Ze(t,"apiUrl",12,"http://localhost:8055"),i=Ze(t,"layoutSeed",12,1);var l={get puzzleId(){return r()},set puzzleId(o){r(o),Oe()},get theme(){return n()},set theme(o){n(o),Oe()},get apiUrl(){return s()},set apiUrl(o){s(o),Oe()},get layoutSeed(){return i()},set layoutSeed(o){i(o),Oe()}};return Qn(e,{get puzzleId(){return r()},get theme(){return n()},get apiUrl(){return s()},get layoutSeed(){return i()}}),br(l)}return customElements.define("crossword-game",Zn(es,{puzzleId:{},theme:{},apiUrl:{},layoutSeed:{}},[],[],{mode:"open"})),es})();
